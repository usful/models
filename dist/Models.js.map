{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 9cdb28f85e97e3ed9c10","webpack:///./src/Model.js","webpack:///./~/timers-browserify/main.js","webpack:///./~/process/browser.js","webpack:///./~/fbemitter/index.js","webpack:///./~/fbemitter/lib/BaseEventEmitter.js","webpack:///./~/fbemitter/lib/EmitterSubscription.js","webpack:///./~/fbemitter/lib/EventSubscription.js","webpack:///./~/fbemitter/lib/EventSubscriptionVendor.js","webpack:///./~/fbjs/lib/invariant.js","webpack:///./~/fbjs/lib/emptyFunction.js","webpack:///./src/lib/compose.js","webpack:///./src/immutableBinding.js","webpack:///./src/lib/guid.js","webpack:///./src/lib/checkPropertyNames.js","webpack:///./src/generateChangeSet.js","webpack:///./src/ModelTypes.js","webpack:///./src/setters/modelArray.js","webpack:///./src/ObservableArray.js","webpack:///./src/setters/nullCheck.js","webpack:///./src/setters/model.js","webpack:///./src/setters/dateArray.js","webpack:///./src/setters/date.js","webpack:///./src/setters/numberArray.js","webpack:///./src/setters/number.js","webpack:///./src/setters/booleanArray.js","webpack:///./src/setters/boolean.js","webpack:///./src/setters/stringArray.js","webpack:///./src/setters/string.js","webpack:///./src/setters/functionArray.js","webpack:///./src/setters/function.js","webpack:///./src/setters/generic.js","webpack:///./src/Validation.js","webpack:///./src/validate/RegexValidator.js","webpack:///./src/validate/MaxLengthValidator.js","webpack:///./src/validate/MinLengthValidator.js","webpack:///./src/validate/MatchValidator.js","webpack:///./src/validate/InValidator.js","webpack:///./src/validate/MaxValidator.js","webpack:///./src/validate/MinValidator.js","webpack:///./src/validate/integer.js","webpack:///./src/validate/required.js","webpack:///./src/validate/empty.js"],"names":[],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA2B;AAC3B;AACA;AACA;AACA,6BAA4B,UAAU;;;;;;;AC/JtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,SAAS;AACtB;AACA,cAAa,EAAE;AACf;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,SAAS;AACtB;AACA,cAAa,EAAE;AACf;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA,yCAAwC;AACxC,yCAAwC;AACxC;;AAEA;AACA,uHAAsH;AACtH;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,eAAc;AACd;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,EAAE;AACf;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA,yCAAwC;AACxC;;AAEA;AACA;AACA;AACA;AACA,uBAAsB,kBAAkB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,oBAAoB;AACjC,cAAa,OAAO;AACpB,cAAa,EAAE;AACf;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;AAED,mC;;;;;;;AC9LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,2CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,cAAa,wBAAwB;AACrC;AACA,cAAa,SAAS;AACtB;AACA,cAAa,EAAE;AACf;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;AAED,sC;;;;;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;;AAEA;AACA,cAAa,wBAAwB;AACrC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;AAED,oC;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,kBAAkB;AAC/B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,eAAc;AACd;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;AAED,0C;;;;;;;ACtGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sDAAqD;AACrD,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA,2BAA0B;AAC1B;AACA;AACA;;AAEA,4B;;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gC;;;;;;;;;;;mBC7BwB,O;AAPxB;;;;;;;AAOe,UAAS,OAAT,CAAiB,GAAjB,EAAsB,YAAtB,EAAoC;;AAEjD,OAAI,CAAC,YAAL,EAAmB;AACjB,oBAAe,GAAf;AACA,WAAM,EAAN;AACD;;AAED;AACA,OAAI,CAAC,MAAM,OAAN,CAAc,YAAd,CAAL,EAAkC;AAChC,oBAAe,CAAC,YAAD,CAAf;AACD;;AAVgD;AAAA;AAAA;;AAAA;AAYjD,0BAAwB,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","file":"Models.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Models\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Models\"] = factory();\n\telse\n\t\troot[\"Models\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9cdb28f85e97e3ed9c10\n **/","\"use strict\";\n\nimport {EventEmitter} from 'fbemitter';\n\nimport compose from './lib/compose';\nimport immutableBinding from './immutableBinding';\nimport guid from './lib/guid';\nimport checkPropertyNames from './lib/checkPropertyNames';\n\nimport generateChangeSet from './generateChangeSet';\n\nimport ModelTypes from './ModelTypes'\nimport Validation from './Validation'\n\n/**\n * Creates a new Model\n * @constructor\n */\nfunction Model() {\n  return Model.create.apply(this, arguments);\n}\n\nModel.Validation = Validation;\n\nModel.guid = guid;\n\n/**\n * Quick easy check to see if a constructor is a model or not.\n * @type {boolean}\n */\nModel.isModel = true;\n\n/**\n * Store all the models by name for reference.\n * @type {{}}\n */\nModel.models = {};\n\n/**\n * Creates a new Model.\n *\n * @param name\n * @param properties\n * @param methods\n * @param statics\n * @returns {model}\n */\nModel.create = function(name, properties, methods, statics) {\n  let model = function (data) {\n    /**\n     * An event emitter.\n     */\n    this.__emitter = new EventEmitter();\n\n    /**\n     * Has the data changed since the last stored state?\n     * @type {boolean}\n     * @private\n     */\n    this.__changed = false;\n\n    /**\n     * Which properties have changed since the last time the immutable binding was looked at.\n     * @type {{}}\n     * @private\n     */\n    this.__propChanged = {};\n\n    /**\n     * Which properties have changed since the last notify.\n     * @type {{}}\n     * @private\n     */\n    this.__propShouldNotify = {};\n\n    /**\n     * Is the object currently constructing.\n     * @type {boolean}\n     * @private\n     */\n    this.__constructing = true;\n\n    /**\n     * Previous values of the data stored in this instance.\n     * @type {{}}\n     * @private\n     */\n    this.__history = [];\n\n    /**\n     * Internal Data store\n     * @type {{}}\n     * @private\n     */\n    this.__data = {};\n\n    /**\n     * Internal Validation State\n     * @type {{}}\n     * @private\n     */\n    this.__validations = {};\n\n    /**\n     * Internal validation message store\n     * @type {{}}\n     * @private\n     */\n    this.__messages = {};\n\n    /**\n     * Does the bind immutable need to be rebuilt. Different then __changed used for pending changes.\n     * @type {boolean}\n     * @private\n     */\n    this.__rebuildBind = true;\n\n    /**\n     * The most recent copy of the data as an immutable object for binding.\n     * @type {{}}\n     * @private\n     */\n    this.__bind = null;\n\n    /**\n     * A reference to the parent object that contains this instance of this Model.\n     * @type {Model}\n     * @private\n     */\n    this.__parent = null;\n\n    /**\n     * A property key that the parent uses to reference this instance of this Model.\n     *\n     * //TODO: This probably does not need to exist since we have the data in the Model definitions already.\n     * @type {string}\n     * @private\n     */\n    this.__parentKey = null;\n\n    this.__guid = guid();\n\n    //Set any initial values.\n    for (let key of this.constructor.def.keys) {\n      if (this.constructor.def[key].initial) {\n        this[key] = this.constructor.def[key].initial;\n      }\n    }\n\n    //If data was passed when this instance was instantinated, hydrate that data into the model.\n    if (data) {\n      this.hydrate(data);\n    }\n\n    //Force the immutable bind object to come into existence and also store it for generating change sets.\n    this.__lastBindState = this.bind;\n\n    this.__constructing = false;\n\n    return this;\n  };\n\n  if (Object.keys(Model.models).includes(name)) {\n    throw new Error(`Model ${name} has already been defined`);\n  }\n\n  Model.models[name] = model;\n\n  /**\n   * Quick easy check to see if this JavaScript Object is a Model.\n   * @type {boolean}\n   */\n  model.isModel = true;\n\n  //Remember the name of this Model on its own class for easy reference and serialization later.\n  model.model = name;\n\n  //Enable or disable history, can be overwritten by passing in statics.\n  model.historyEnabled = false;\n  //If history is enabled, how often to batch changeSets in ms?  0 = immediate,\n  model.historyInterval = 0;\n  //Notify interval can be tweaked for performance tuning.\n  model.notifyInterval = 0;\n\n  /**\n   * Static method to generate a changeSet for instances of this model.\n   * @type {function(this:model)}\n   */\n  model.generateChangeSet = function (bind1, bind2) {\n    return generateChangeSet(this.def, bind1, bind2, true);\n  };\n\n  /**\n   * The immutable object is quantum.  Only when you inspect it does it change.\n   */\n  Object.defineProperty(model.prototype, 'bind', {\n    get: immutableBinding,\n    configurable: false,\n    writeable: false,\n    enumerable: false\n  });\n\n  /**\n   * Generate a changeSet for this instance of this model.\n   * @type {function(this:model)}\n   */\n  model.prototype.generateChangeSet = function () {\n    return this.constructor.generateChangeSet(this.__lastBindState, this.bind);\n  };\n\n  /**\n   * Triggered when a property has changed on this instance\n   *\n   * @param key The property that has changed\n   * @param val The new value\n   * @param [event] Any event details associated with the change\n   * @private\n   */\n  model.prototype.__onChanged = function (key, val, event) {\n    let def = this.constructor.def[key];\n\n    //Virtuals should not trigger the changed flag, as noted above, changed indicates changes that effect data have occurred.\n    if (!def.virtual) {\n      this.__changed = true;\n    }\n\n    //Sometimes the dev may set notify to false, this short circuits any change notification.\n    if (!def.notify) {\n      return;\n    }\n\n    this.__rebuildBind = true;\n    this.__propChanged[key] = true;\n    this.__propShouldNotify[key] = true;\n\n    if (this.__constructing) return;\n\n    if (!this.__isNotifying) {\n      if (this.constructor.notifyInterval > 0) {\n        //notifyInterval can be used for specific performance tuning.\n        this.__isNotifying = setTimeout(this.__notify.bind(this), this.constructor.notifyInterval);\n      } else {\n        //setImmediate will pool notifying until the end of the execution cycle.\n        this.__isNotifying = setImmediate(this.__notify.bind(this));\n      }\n    }\n\n    //Propagate up to parents if it needs to be propagated\n    if (this.__parent) {\n      this.__parent.__onChanged(this.__parentKey, this, event);\n    }\n  };\n\n  /**\n   * Update all of the components that are listening for changes to this data.\n   * @private\n   */\n  model.prototype.__notify = function () {\n    this.emit('changed', this);\n\n    for (let key of this.constructor.def.keys) {\n      if (this.__propShouldNotify[key]) {\n        this.emit(`${key}Changed`, this);\n      }\n    }\n\n    this.__propShouldNotify = {};\n    this.__isNotifying = null;\n  };\n\n\n  Object.defineProperty(model.prototype, 'hasChanges', {\n    get: function () {\n      return this.__changed;\n    },\n    configurable: false,\n    writeable: false,\n    enumerable: false\n  });\n\n  model.def = {\n    /**\n     * Store all the property keys for faster iteration later.\n     * @type {[]} keys\n     */\n    keys: []\n  };\n\n  /**\n   * Validates a specific or all properties on the model\n   * @param {String} [keyToCheck] Optional. Validates the given prop, if omitted\n   *                                 validates the entire model\n   */\n  model.prototype.validate = function (keyToCheck) {\n    //TODO: cache validation since last change.  There is no need to re-run this validation unless something has changed.\n\n    if (keyToCheck) {\n      return this.constructor.def[keyToCheck].validate.call(this);\n    }\n\n    let state = true;\n\n    for (let key of this.constructor.def.keys) {\n      // if ANY return false it's false\n      state = state && this.constructor.def[key].validate.call(this);\n    }\n\n    //let modelState = this.constructor.def.modelValidator.call(this);\n\n    return state;\n  };\n\n  /**\n   * Checks to see if values are valid\n   * @param {String} [key] Optional. Returns the validation state of that specific key,\n   *                                 if omitted returns overall model validation state.\n   * @returns {Boolean}\n   */\n  model.prototype.isValid = function (key) {\n    // Check if a specific field is valid\n    return this.validate.call(this, key);\n  };\n\n  /**\n   * Removes all event listeners on this model.\n   * @returns {*}\n   */\n  model.prototype.removeAllListeners = function() {\n    return this.__emitter.removeAllListeners();\n  };\n\n  /**\n   * Adds a callback to be executed when this model is updated\n   * @param [cb] {Function} a cb for when this model is updated.\n   * @returns {String}\n   */\n  model.prototype.addListener = function (cb, key) {\n    //TODO: fix this since it is kind of weird now.\n    if (typeof cb === 'function') {\n      return this.__emitter.addListener(key ? `${key}Changed` : 'changed', cb);\n    } else if (typeof cb === 'string') {\n      return this.__emitter.addListener(cb, key);\n    }\n  };\n\n  /**\n   * Adds a callback to be executed when this model is updated that is removed immediatley after it is called.\n   * @param [cb] {Function} a cb for when this model is updated.\n   * @returns {String}\n   */\n  model.prototype.addOnce = function (cb, key) {\n    return this.__emitter.once(key ? `${key}Changed` : 'changed', cb);\n  };\n\n  model.prototype.emit = function(event, data) {\n    return this.__emitter.emit(event, data);\n  };\n\n  /**\n   * toJSON will return the immutable object.\n   *\n   * @returns {{}}\n   */\n  model.prototype.toJSON = function () {\n    return this.bind;\n  };\n\n  /**\n   * Resets this model to its last committed state, most likely it's constructed state.  Could be it's last save point.\n   */\n  model.prototype.reset = function (full) {\n    this.__rebuildBind = true;\n    this.__propChanged = {};\n    this.__propShouldNotify = {};\n    this.__history = [];\n    this.__bind = null;\n\n    this.constructor.def.keys.forEach(key => this[key] = this.__lastBindState && !full ? this.__lastBindState[key] : undefined);\n\n    this.__lastBindState = this.bind;\n    this.__changed = false;\n  };\n\n  /**\n   * Go back one committed state.\n   */\n  model.prototype.undo = function () {\n    console.warn('//TODO: model.prototype.undo not implemented yet.');\n  };\n\n  /**\n   * Undo an undo.\n   */\n  model.prototype.redo = function () {\n    console.info('//TODO: model.prototype.redo not implemented yet.');\n  };\n\n  /**\n   * Clear out all the data in this object.  This does NOT reset this instance to is original state.\n   */\n  model.prototype.clear = function () {\n    this.constructor.def.keys.forEach(key => this[key] = undefined);\n    this.__changed = false;\n  };\n\n  /**\n   * Apply a subset of data to this instance of this model.\n   * @param props\n   */\n  model.prototype.patch = function (props) {\n    this.constructor.def.keys.forEach(key => {\n      if (props[key] !== undefined) {\n        this[key] = props[key];\n      }\n    });\n  };\n\n  /**\n   * Populate an instance with a whole new instance of a model.\n   * @param props\n   */\n  model.prototype.hydrate = function (props) {\n    this.reset();\n    this.patch((this._constructor ? this._constructor(props) : props));\n    this.__lastBindState = this.bind;\n    this.__changed = false;\n  };\n\n  /**\n   * Built-in properties have been set up,\n   * Construct the reserved words list to ensure no conflicts between built-in props and defined props/methods\n   */\n\n  const RESERVED_WORDS = Object.getOwnPropertyNames(new model());\n  const STATIC_RESERVED_WORDS = Object.getOwnPropertyNames(model.prototype);\n\n  /**\n   * BOILERPLATE MODEL CODE IS ABOVE THIS POINT - MODEL SPECIFIC DEFINITIONS CODE IS BELOW THIS POINT\n   */\n  if (!Array.isArray(properties))  {\n    properties = [properties];\n  }\n\n  // parse property and check property definition\n  properties.forEach(props => {\n\n    for (let key in props) {\n      //Dev can pass in either a simple type by passing in a primitive, Array, Model or a Function.\n      //Or they can pass in an Object with a more complex definition.\n      let type = props[key];\n      //Setup a blank validation function for each of use later.\n      let validate = () => true;\n      //validators will be run in order\n      let validators = [];\n      let virtual = false;\n      let complexDef = {};\n      let notify = true;\n      let isRequired = false;\n      let auto = undefined;\n      let initial = undefined;\n\n      if (type.constructor === Object && type.type) {\n        complexDef = type;\n\n        // Unnest the inner type\n        type = complexDef.type;\n\n        //Setup validation function for this prop.\n        if (complexDef.validators) {\n          validators = Array.isArray(complexDef.validators) ? complexDef.validators : [complexDef.validators];\n\n          let ixIsRequired = validators.findIndex(validator => validator === Validation.required);\n\n          //Required is a special validator.  Pull it out of the array and set a flag for use later.\n          if (ixIsRequired > -1) {\n            isRequired = true;\n            validators.splice(ixIsRequired, 1);\n          }\n\n          validate = function() {\n            let def = this.constructor.def[key];\n            let state = true;\n            let message;\n\n            let hasValue = Validation.required.validate.call(this, this.__data[key]);\n\n            if (def.isRequired && !hasValue) {\n              //If this is required and it is empty, validation fails.\n              state = false;\n              message = Validation.required.message;\n            } else if (!def.isRequired && !hasValue) {\n              //If this is NOT required, and has no value, then it is by default, valid.\n              state = true;\n            } else {\n              for (let validator of def.validators) {\n                if (!validator.validate.call(this, this.__data[key])) {\n                  state = false;\n                  message = validator.message;\n                  break;\n                }\n              }\n            }\n\n            this.__validations[key] = state;\n            this.__messages[key] = message;\n\n            return state;\n          };\n        }\n\n        // Pass through for other complex definition options\n        if (complexDef.virtual === true) {\n          virtual = true;\n        }\n\n        if (complexDef.notify === false) {\n          notify = false;\n        }\n\n        //TODO: may want to do some more checking here, like does the definition specific an auto value that matches the type?\n        if (complexDef.auto !== undefined) {\n          auto = complexDef.auto;\n        }\n\n        //TODO: may want to do some more checking here, like does the definition specific an auto value that matches the type?\n        if (complexDef.initial !== undefined) {\n          initial = complexDef.initial;\n        }\n      }\n\n      /* Array Denesting */\n      let isArray = Array.isArray(type);\n\n      if (isArray) {\n        type = type[0];\n      }\n\n      /* ModelType Checking */\n      if (ModelTypes.isValidType(type)) {\n        // do nothing, type is already set correctly\n      }\n      else if (typeof(type) === 'string' && Model.models.hasOwnProperty(type)) {\n        //Allow for types to be referenced by string.  This would probably only be used when a Model is referencing\n        //itself, or if there is a cyclic dependency of Models.\n        type = Model.models[type];\n      }\n      else {\n        // YOU SHALL NOT PASS\n        throw new Error(`\"type\" of \"${type}\" not provided or invalid for property definition of \"${key}\" on \"${name}\"`);\n      }\n\n      let def = {\n        ... complexDef,                       // Let the dev setup their own properties\n        key: key,                             // The name of the property\n        type: type,                           // The type of the property\n        validate: validate,                   // The validation function of the property\n        validators: validators,               // Collection of validators attached to the property\n        isArray: isArray,                     // Whether this property is an array\n        virtual: virtual,                     // Does this property persist to a data store? Or is it used for other purposes.\n        isRequired: isRequired,               // is this property required.\n        notify: notify,                       // when this property is changed, should it trigger a notify\n        initial: initial,                     // what is the value this property should be initialized to?\n        auto: auto                            // what value will this take one after being set to null?\n\n      };\n\n      // def IS PROPERLY SET (all data is clean, functions have not been set up yet)\n\n      // Do a sanity check to make sure we don't duplicate keys\n      if (model.def.keys.includes(def.key)) {\n        throw new Error(`Duplicate property name \"${def.key}\" defined in ${name}`);\n      }\n\n      // Certain reserved properties that can't be used in model definitions\n      if (RESERVED_WORDS.includes(def.key)) {\n        throw new Error(`Reserved property name \"${def.key}\" used in property definition of ${name}`);\n      }\n\n      model.def[def.key] = def;\n      model.def.keys.push(def.key);\n\n      let setter = (ModelTypes.getTypeSetter(def.type, def.isArray))(def.key, def);\n\n      Object.defineProperty(model.prototype, def.key, {\n        get: function () {\n          return this.__data[def.key];\n        },\n        set: function(val) {\n          setter.call(this, val);\n          def.validate.call(this);\n        },\n        configurable: true\n      });\n    }\n  });\n\n  //Compose any instance methods that have been supplied for this model.\n  if (methods) {\n    let _methods =  Array.isArray(methods) ? methods : [methods];\n    checkPropertyNames(_methods,  RESERVED_WORDS);\n    compose(model.prototype, _methods);\n  }\n\n  //Compose any static methods that have been supplied for this model.\n  if (statics) {\n    let _statics = Array.isArray(statics) ? statics : [statics];\n    checkPropertyNames(_statics, STATIC_RESERVED_WORDS);\n    compose(model, _statics);\n  }\n\n  return model;\n};\n\nmodule.exports = Model;\n\n\n/** WEBPACK FOOTER **\n ** ./src/Model.js\n **/","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timers-browserify/main.js\n ** module id = 1\n ** module chunks = 0\n **/","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\n(function () {\n    try {\n        cachedSetTimeout = setTimeout;\n    } catch (e) {\n        cachedSetTimeout = function () {\n            throw new Error('setTimeout is not defined');\n        }\n    }\n    try {\n        cachedClearTimeout = clearTimeout;\n    } catch (e) {\n        cachedClearTimeout = function () {\n            throw new Error('clearTimeout is not defined');\n        }\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/process/browser.js\n ** module id = 2\n ** module chunks = 0\n **/","/**\n * Copyright (c) 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nvar fbemitter = {\n  EventEmitter: require('./lib/BaseEventEmitter')\n};\n\nmodule.exports = fbemitter;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/fbemitter/index.js\n ** module id = 3\n ** module chunks = 0\n **/","/**\n * Copyright (c) 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule BaseEventEmitter\n * @typechecks\n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar EmitterSubscription = require('./EmitterSubscription');\nvar EventSubscriptionVendor = require('./EventSubscriptionVendor');\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * @class BaseEventEmitter\n * @description\n * An EventEmitter is responsible for managing a set of listeners and publishing\n * events to them when it is told that such events happened. In addition to the\n * data for the given event it also sends a event control object which allows\n * the listeners/handlers to prevent the default behavior of the given event.\n *\n * The emitter is designed to be generic enough to support all the different\n * contexts in which one might want to emit events. It is a simple multicast\n * mechanism on top of which extra functionality can be composed. For example, a\n * more advanced emitter may use an EventHolder and EventFactory.\n */\n\nvar BaseEventEmitter = (function () {\n  /**\n   * @constructor\n   */\n\n  function BaseEventEmitter() {\n    _classCallCheck(this, BaseEventEmitter);\n\n    this._subscriber = new EventSubscriptionVendor();\n    this._currentSubscription = null;\n  }\n\n  /**\n   * Adds a listener to be invoked when events of the specified type are\n   * emitted. An optional calling context may be provided. The data arguments\n   * emitted will be passed to the listener function.\n   *\n   * TODO: Annotate the listener arg's type. This is tricky because listeners\n   *       can be invoked with varargs.\n   *\n   * @param {string} eventType - Name of the event to listen to\n   * @param {function} listener - Function to invoke when the specified event is\n   *   emitted\n   * @param {*} context - Optional context object to use when invoking the\n   *   listener\n   */\n\n  BaseEventEmitter.prototype.addListener = function addListener(eventType, listener, context) {\n    return this._subscriber.addSubscription(eventType, new EmitterSubscription(this._subscriber, listener, context));\n  };\n\n  /**\n   * Similar to addListener, except that the listener is removed after it is\n   * invoked once.\n   *\n   * @param {string} eventType - Name of the event to listen to\n   * @param {function} listener - Function to invoke only once when the\n   *   specified event is emitted\n   * @param {*} context - Optional context object to use when invoking the\n   *   listener\n   */\n\n  BaseEventEmitter.prototype.once = function once(eventType, listener, context) {\n    var emitter = this;\n    return this.addListener(eventType, function () {\n      emitter.removeCurrentListener();\n      listener.apply(context, arguments);\n    });\n  };\n\n  /**\n   * Removes all of the registered listeners, including those registered as\n   * listener maps.\n   *\n   * @param {?string} eventType - Optional name of the event whose registered\n   *   listeners to remove\n   */\n\n  BaseEventEmitter.prototype.removeAllListeners = function removeAllListeners(eventType) {\n    this._subscriber.removeAllSubscriptions(eventType);\n  };\n\n  /**\n   * Provides an API that can be called during an eventing cycle to remove the\n   * last listener that was invoked. This allows a developer to provide an event\n   * object that can remove the listener (or listener map) during the\n   * invocation.\n   *\n   * If it is called when not inside of an emitting cycle it will throw.\n   *\n   * @throws {Error} When called not during an eventing cycle\n   *\n   * @example\n   *   var subscription = emitter.addListenerMap({\n   *     someEvent: function(data, event) {\n   *       console.log(data);\n   *       emitter.removeCurrentListener();\n   *     }\n   *   });\n   *\n   *   emitter.emit('someEvent', 'abc'); // logs 'abc'\n   *   emitter.emit('someEvent', 'def'); // does not log anything\n   */\n\n  BaseEventEmitter.prototype.removeCurrentListener = function removeCurrentListener() {\n    !!!this._currentSubscription ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Not in an emitting cycle; there is no current subscription') : invariant(false) : undefined;\n    this._subscriber.removeSubscription(this._currentSubscription);\n  };\n\n  /**\n   * Returns an array of listeners that are currently registered for the given\n   * event.\n   *\n   * @param {string} eventType - Name of the event to query\n   * @return {array}\n   */\n\n  BaseEventEmitter.prototype.listeners = function listeners(eventType) /* TODO: Array<EventSubscription> */{\n    var subscriptions = this._subscriber.getSubscriptionsForType(eventType);\n    return subscriptions ? subscriptions.filter(emptyFunction.thatReturnsTrue).map(function (subscription) {\n      return subscription.listener;\n    }) : [];\n  };\n\n  /**\n   * Emits an event of the given type with the given data. All handlers of that\n   * particular type will be notified.\n   *\n   * @param {string} eventType - Name of the event to emit\n   * @param {*} Arbitrary arguments to be passed to each registered listener\n   *\n   * @example\n   *   emitter.addListener('someEvent', function(message) {\n   *     console.log(message);\n   *   });\n   *\n   *   emitter.emit('someEvent', 'abc'); // logs 'abc'\n   */\n\n  BaseEventEmitter.prototype.emit = function emit(eventType) {\n    var subscriptions = this._subscriber.getSubscriptionsForType(eventType);\n    if (subscriptions) {\n      var keys = Object.keys(subscriptions);\n      for (var ii = 0; ii < keys.length; ii++) {\n        var key = keys[ii];\n        var subscription = subscriptions[key];\n        // The subscription may have been removed during this event loop.\n        if (subscription) {\n          this._currentSubscription = subscription;\n          this.__emitToSubscription.apply(this, [subscription].concat(Array.prototype.slice.call(arguments)));\n        }\n      }\n      this._currentSubscription = null;\n    }\n  };\n\n  /**\n   * Provides a hook to override how the emitter emits an event to a specific\n   * subscription. This allows you to set up logging and error boundaries\n   * specific to your environment.\n   *\n   * @param {EmitterSubscription} subscription\n   * @param {string} eventType\n   * @param {*} Arbitrary arguments to be passed to each registered listener\n   */\n\n  BaseEventEmitter.prototype.__emitToSubscription = function __emitToSubscription(subscription, eventType) {\n    var args = Array.prototype.slice.call(arguments, 2);\n    subscription.listener.apply(subscription.context, args);\n  };\n\n  return BaseEventEmitter;\n})();\n\nmodule.exports = BaseEventEmitter;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/fbemitter/lib/BaseEventEmitter.js\n ** module id = 4\n ** module chunks = 0\n **/","/**\n * Copyright (c) 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n * \n * @providesModule EmitterSubscription\n * @typechecks\n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EventSubscription = require('./EventSubscription');\n\n/**\n * EmitterSubscription represents a subscription with listener and context data.\n */\n\nvar EmitterSubscription = (function (_EventSubscription) {\n  _inherits(EmitterSubscription, _EventSubscription);\n\n  /**\n   * @param {EventSubscriptionVendor} subscriber - The subscriber that controls\n   *   this subscription\n   * @param {function} listener - Function to invoke when the specified event is\n   *   emitted\n   * @param {*} context - Optional context object to use when invoking the\n   *   listener\n   */\n\n  function EmitterSubscription(subscriber, listener, context) {\n    _classCallCheck(this, EmitterSubscription);\n\n    _EventSubscription.call(this, subscriber);\n    this.listener = listener;\n    this.context = context;\n  }\n\n  return EmitterSubscription;\n})(EventSubscription);\n\nmodule.exports = EmitterSubscription;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/fbemitter/lib/EmitterSubscription.js\n ** module id = 5\n ** module chunks = 0\n **/","/**\n * Copyright (c) 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule EventSubscription\n * @typechecks\n */\n\n'use strict';\n\n/**\n * EventSubscription represents a subscription to a particular event. It can\n * remove its own subscription.\n */\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar EventSubscription = (function () {\n\n  /**\n   * @param {EventSubscriptionVendor} subscriber the subscriber that controls\n   *   this subscription.\n   */\n\n  function EventSubscription(subscriber) {\n    _classCallCheck(this, EventSubscription);\n\n    this.subscriber = subscriber;\n  }\n\n  /**\n   * Removes this subscription from the subscriber that controls it.\n   */\n\n  EventSubscription.prototype.remove = function remove() {\n    if (this.subscriber) {\n      this.subscriber.removeSubscription(this);\n      this.subscriber = null;\n    }\n  };\n\n  return EventSubscription;\n})();\n\nmodule.exports = EventSubscription;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/fbemitter/lib/EventSubscription.js\n ** module id = 6\n ** module chunks = 0\n **/","/**\n * Copyright (c) 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n * \n * @providesModule EventSubscriptionVendor\n * @typechecks\n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * EventSubscriptionVendor stores a set of EventSubscriptions that are\n * subscribed to a particular event type.\n */\n\nvar EventSubscriptionVendor = (function () {\n  function EventSubscriptionVendor() {\n    _classCallCheck(this, EventSubscriptionVendor);\n\n    this._subscriptionsForType = {};\n    this._currentSubscription = null;\n  }\n\n  /**\n   * Adds a subscription keyed by an event type.\n   *\n   * @param {string} eventType\n   * @param {EventSubscription} subscription\n   */\n\n  EventSubscriptionVendor.prototype.addSubscription = function addSubscription(eventType, subscription) {\n    !(subscription.subscriber === this) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'The subscriber of the subscription is incorrectly set.') : invariant(false) : undefined;\n    if (!this._subscriptionsForType[eventType]) {\n      this._subscriptionsForType[eventType] = [];\n    }\n    var key = this._subscriptionsForType[eventType].length;\n    this._subscriptionsForType[eventType].push(subscription);\n    subscription.eventType = eventType;\n    subscription.key = key;\n    return subscription;\n  };\n\n  /**\n   * Removes a bulk set of the subscriptions.\n   *\n   * @param {?string} eventType - Optional name of the event type whose\n   *   registered supscriptions to remove, if null remove all subscriptions.\n   */\n\n  EventSubscriptionVendor.prototype.removeAllSubscriptions = function removeAllSubscriptions(eventType) {\n    if (eventType === undefined) {\n      this._subscriptionsForType = {};\n    } else {\n      delete this._subscriptionsForType[eventType];\n    }\n  };\n\n  /**\n   * Removes a specific subscription. Instead of calling this function, call\n   * `subscription.remove()` directly.\n   *\n   * @param {object} subscription\n   */\n\n  EventSubscriptionVendor.prototype.removeSubscription = function removeSubscription(subscription) {\n    var eventType = subscription.eventType;\n    var key = subscription.key;\n\n    var subscriptionsForType = this._subscriptionsForType[eventType];\n    if (subscriptionsForType) {\n      delete subscriptionsForType[key];\n    }\n  };\n\n  /**\n   * Returns the array of subscriptions that are currently registered for the\n   * given event type.\n   *\n   * Note: This array can be potentially sparse as subscriptions are deleted\n   * from it when they are removed.\n   *\n   * TODO: This returns a nullable array. wat?\n   *\n   * @param {string} eventType\n   * @return {?array}\n   */\n\n  EventSubscriptionVendor.prototype.getSubscriptionsForType = function getSubscriptionsForType(eventType) {\n    return this._subscriptionsForType[eventType];\n  };\n\n  return EventSubscriptionVendor;\n})();\n\nmodule.exports = EventSubscriptionVendor;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/fbemitter/lib/EventSubscriptionVendor.js\n ** module id = 7\n ** module chunks = 0\n **/","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/fbjs/lib/invariant.js\n ** module id = 8\n ** module chunks = 0\n **/","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n\"use strict\";\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nfunction emptyFunction() {}\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/fbjs/lib/emptyFunction.js\n ** module id = 9\n ** module chunks = 0\n **/","/**\n * Composes functions, getters, setters, properties to an object and binds them properly.\n *\n * @param obj the object to compose onto\n * @param compositions an object containing all the functions, getters, setters, propertie to compose\n * @returns {*}\n */\nexport default function compose(obj, compositions) {\n\n  if (!compositions) {\n    compositions = obj;\n    obj = {};\n  }\n\n  //Easier to assume an array of composition objects have been passed in\n  if (!Array.isArray(compositions)) {\n    compositions = [compositions];\n  }\n\n  for (let composition of compositions) {\n\n    for (let key in composition) {\n      //Check to see if this property was inherited, if so it should not be composed.\n      //TODO: should this throw a warning? Devs may expect that it would compose inherited methods.\n      if (composition.hasOwnProperty(key)) {\n        let desc = Object.getOwnPropertyDescriptor(composition, key);\n\n        //Check to see if the property descriptor actually defines a getter || setter.  These are composed slightly\n        //differently.\n        if (desc.get || desc.set) {\n          Object.defineProperty(obj, key, {\n            get: desc.get,\n            set: desc.set,\n            enumerable: desc.enumerable,\n            writeable: desc.writeable,\n            configurable: desc.configurable\n          });\n        } else {\n          /**\n           * TODO: this assigns by reference, not by copy.  This probably shouldn't be an issue, but anyone using\n           * compose should be aware that it works this way.\n           *\n           * IE. you shouldn't be composing objects that you are using later.\n           */\n          obj[key] = composition[key];\n\n          //If this is a function, bind that function to the object passed in.\n          if (obj[key].construtor === Function) {\n            obj[key].bind(obj);\n          }\n        }\n      }\n    }\n  }\n\n  return obj;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/compose.js\n **/","/**\n * Returns an immutable object based on the data contained in a model.\n *\n * This uses structural sharing to make this efficient as possible.\n *\n * @returns {{}|*}\n */\nexport default function immutableBinding () {\n  if (!this.__rebuildBind) {\n    return this.__bind;\n  }\n\n  let bind = {\n    __start: Date.now(),\n    _type: this.constructor.model\n  };\n\n  for (let i = 0; i < this.constructor.def.keys.length; i++) {\n    let prop = this.constructor.def.keys[i];\n\n    //Nothings changed!  Re-use the last value.\n    if (!this.__propChanged[prop]) {\n      bind[prop] = this.__bind ? this.__bind[prop] : this.__data[prop];\n      continue;\n    }\n\n    let def = this.constructor.def[prop];\n    let val = this.__data[prop];\n\n    //For primitives, there is no structural sharing anyways so use what is in data.\n    if (!def.isArray && !def.type.isModel) {\n      bind[prop] = val;\n    }\n\n    //If the data is undefined or null anyways, it doesn't really matter what else is true.\n    else if (this.__data[prop] === undefined || this.__data[prop] === null) {\n      bind[prop] = this.__data[prop];\n    }\n\n    //This has changed, and its an array, and its an array of models.  Create a new array instance\n    //by using the bind getter on each model.  The model instance will figure out if its changed or not\n    //and recursively call itself.\n    else if (def.isArray && def.type.isModel) {\n      bind[prop] = val && val._array ? val._array.map.call(val, (item) => item ? item.bind : null) : null;\n    }\n\n    //An array of other things have changed.  Create a new array instance, but use the data in data.\n    else if (def.isArray) {\n      bind[prop] = [].concat(val && val._array ? val._array : val);\n    }\n\n    //It's a model.  Let it figure out whats changed by a recursive call.\n    else if (!def.isArray && def.type.isModel) {\n      bind[prop] = val.bind;\n    }\n\n    //Can we even get here?\n    else {\n      bind[prop] = val;\n      //TODO: log  a warning here since this seems to be an impossible code path.\n    }\n\n    this.__propChanged[prop] = false;\n  }\n\n  //Clear the changed flag\n  this.__rebuildBind = false;\n\n  //Store the last values for this instance.\n  if (this.constructor.historyEnabled && this.__bind && (Date.now() - this.__bind.__start) > this.constructor.historyInterval) {\n    //TODO: does it make sense to use an interval here?  The interval should be used on the notify on the model itself.\n    //TODO: I actually think this entire history functionality should be moved out of this immutable binding piece anyways.\n    this.__bind.__end = Date.now();\n    this.__history.push(this.__bind);\n  } \n\n  this.__bind = bind;\n\n  return this.__bind;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/immutableBinding.js\n **/","const UIDCHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n/**\n * Generates a URL friendly, (probably) GUID (Globaly Unique ID) of given length.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random why its \"probably\" unique.\n *\n * @param length\n * @returns {string}\n */\nexport default function guid(length = 16) {\n  let str = '';\n\n  while (str.length < length) {\n    str += UIDCHARS[(Math.random()*UIDCHARS.length)|0];\n  }\n\n  return str;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/guid.js\n **/","'use strict';\n\nexport default function checkPropertyNames(arr, reserved) {\n  arr.forEach(item => {\n    let propertyNames = Object.getOwnPropertyNames(item);\n\n    propertyNames.forEach(key => {\n      if (reserved.includes(key)) {\n        throw new Error(`Reserved property name \"${key}\" used in instance methods definition of ${item}`)\n      }\n     })\n  });\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/checkPropertyNames.js\n **/","/**\n * Recursively generates a changeSet based on an old value of an instance compared to a new one.\n *\n * The objRefsSame flag is used as an optimization when we know that the two objects being compared have been\n * generated on the same stack.  IE. we are not comparing a value from an API to one that was generated locally.\n *\n * @param defs the object property definition from the model that describes these two immutable objects\n * @param bind1 the immutable object that we are starting with\n * @param bind2 the immutable object that we are changing to\n * @param objRefsSame should object references be the same for objects and arrays?\n * @param change the current changeSet\n * @param path the current path to sub-objects properties.\n * @returns {*}\n */\nexport default function generateChangeSet(defs, bind1, bind2, objRefsSame = false, change = {}, path = '') {\n\n  for (let i = 0; i < defs.keys.length; i++) {\n    let key = defs.keys[i];\n    let def = defs[key];\n\n    /**\n     * TODO:  Make a developer note that setting a value to undefined will not unset it from the database.\n     *        only setting a value to null will unset it.\n     *\n     * This is because:\n     *\n     * 1) undefined values are not included in JSON (ie all the calls we make to the server).\n     * 2) MongoDB does not store undefined values for the above reason\n     *\n     * Devs should use undefined to represent that we are unaware of what the data maybe (it is literally undefined).\n     * null means we do know what the data is, and it is empty.\n     */\n\n    /**\n     * Virtual properties are not persisted in the database.\n     */\n    if (def.virtual) {\n      continue;\n    }\n\n    else if (bind2[key] === undefined) {\n      //no-op\n    }\n\n    //TODO: Neither this case nor the case of line 46 would capture if we're going from undefined -> null, when we don't know something to when we know that it isn't there and can be persisted appropriately.\n    //If the data has changed to null, it doesn't really matter what else is true.\n    else if (bind2[key] === null && (bind1[key] !== undefined || bind1[key] !== null)) {\n      if (!change.$unset) change.$unset = {};\n      change.$unset[path + key] = true;\n    }\n\n    //Same goes for if value was null, but now is anything.\n    else if (bind1[key] === undefined || bind1[key] === null && (bind2[key] !== undefined || bind2[key] !== null)) {\n      if (!change.$set) change.$set = {};\n\n      change.$set[path + key] = bind2[key];\n    }\n\n    //For primitives, there is no complex comparison needed.\n    else if (!def.array && !def.type.isModel) {\n      //Values aren't the same?\n      if (bind1[key] !== bind2[key]) {\n        //Make sure the $set object exists.\n        if (!change.$set) change.$set = {};\n\n        change.$set[path + key] = bind2[key];\n      }\n    }\n\n    //An array of Models may have changed.\n    else if (def.array && def.type.isModel) {\n      //First check the object references to see if the array wrapper has changed.  If the references are the same,\n      //this array has not changed.\n\n      if (!(objRefsSame && bind1[key] === bind2[key])) {\n        //How is this model uniquely defined?  By id or micro-guid.\n        let idKey = defs._id ? '_id' : '_mg';\n        let fullSetRequired = false;\n\n        if (bind1[key].length > bind2[key].length) {\n          //If bind1 is a larger array than bind2 then\n          // - iff all the ids in bind2 exist in bind1 in order, only removes have been made.\n          // - else full set\n          let potentialPull = [];\n\n          let j = 0, k = 0, totalFound = 0;\n\n          while (k < bind2[key].length) {\n            if (bind2[key][k][idKey] !== bind1[key][j][idKey]) {\n              j++;\n              potentialPull.push(bind1[key][j][idKey]);\n            } else {\n              totalFound++;\n              j++;\n              k++;\n            }\n          }\n\n          if (totalFound !== bind2[key].length) {\n            fullSetRequired = true;\n          } else {\n            //Create a change set that pulls by unique key on this model, ie.\n            //change.$pull = {\n            //  'logins._id': {$in: [1, 2]}\n            //};\n            if (!change.$pull) change.$pull = {};\n            change.$pull[`${path}${key}.${idKey}`] = {$in: potentialPull}\n          }\n        } else if (bind1[key].length < bind2[key].length) {\n          //else if bind1 is a smaller array then bind2\n          // - if all ids in bind1 exist in bind2 in order, with no gaps, only simple adds have been made\n          // - else full set\n\n          let j = 0, k = 0, gaps = 0, totalFound = 0, prevWasGap = false;\n\n          let potentialAdd = {\n            $each: [],\n            $position: undefined\n          };\n\n          while (j < bind1[key].length) {\n            if (bind1[key][j][idKey] !== bind2[key][k][idKey]) {\n              if (!prevWasGap) gaps++;\n              prevWasGap = true;\n              k++;\n              potentialAdd.$each.push(bind2[key][k]);\n              if (potentialAdd.$position === undefined) potentialAdd.$position = j;\n            } else {\n              prevWasGap = false;\n              totalFound++;\n              j++;\n              k++;\n            }\n          }\n\n          if (gaps > 1 || totalFound !== bind1[key].length) {\n            fullSetRequired = true;\n          } else {\n            //Create a change set that pushes all values, ie.\n            //change.$push = {\n            //  logins: {\n            //    $each: [obj1, obj2],\n            //    $position: 0\n            //  }\n            //};\n            if (!change.$push) change.$push = {};\n            change.$push[`${path}${key}`] = potentialAdd;\n\n          }\n        } else {\n          // - if all ids in bind1 exist in bind2, in order, sets by index have been made.\n          // - else full set.\n          let potentialSets = {};\n\n          for (let j = 0; j < bind1[key].length; j++) {\n            //First easiest check is too see if the object references are the same\n            if (!(objRefsSame && bind1[key][j] === bind2[key][j])) {\n              //Check to see if the keys are the same.\n              if (bind1[key][j][idKey] !== bind2[key][j][idKey]) {\n                fullSetRequired = true;\n                break;\n              } else {\n                generateChangeSet(def.type.def, bind1[key][j], bind2[key][j], objRefsSame, potentialSets, `${path}${key}.${j}.`);\n              }\n            }\n          }\n\n          //If we have made it this far, then we should merge these potential sets into the changeSet.\n          Object.assign(change, potentialSets);\n        }\n\n        //After all that work, a full set was required anyways.\n        if (fullSetRequired) {\n          //Lazily create the $set object.\n          if (!change.$set) change.$set = {};\n\n          change.$set[path + key] = bind2[key];\n        }\n      }\n    }\n\n    //An array of primitives may have changed.\n    else if (def.array) {\n      //TODO: this could also be optimized using the logic from above.  But is it worth the optimization?\n      if (!(objRefsSame && bind1[key] === bind2[key])) {\n        if ((bind1[key].length !== bind2[key].length) || bind1[key].some((item, index) => bind2[key][index] !== item)) {\n          //Lazily create the $set object.\n          if (!change.$set) change.$set = {};\n\n          change.$set[path + key] = bind2[key];\n        }\n      }\n    }\n\n    //It's a model.\n    else if (!def.array && def.type.isModel) {\n      if (!(objRefsSame && bind1[key] === bind2[key])) {\n        generateChangeSet(def.type.def, bind1[key], bind2[key], objRefsSame, change, `${path}${key}.`);\n      }\n    }\n\n    else {\n      //Can we even get here?\n      //TODO: check to see if this is what happens when a type is a function, at very least a warning should be thrown.\n    }\n  }\n\n  return change;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/generateChangeSet.js\n **/","/**\n * Setters\n */\nimport modelArraySetter from './setters/modelArray';\nimport modelSetter from './setters/model';\nimport dateArraySetter from './setters/dateArray';\nimport dateSetter from './setters/date';\nimport numberArraySetter from './setters/numberArray';\nimport numberSetter from './setters/number';\nimport booleanArraySetter from './setters/booleanArray';\nimport booleanSetter from './setters/boolean';\nimport stringArraySetter from './setters/stringArray';\nimport stringSetter from './setters/string';\nimport functionArraySetter from './setters/functionArray';\nimport functionSetter from './setters/function';\nimport genericSetter from './setters/generic';\n\nexport default {\n  /*\n  * BEFORE MAKING ANY CHANGES \n  *   Analyze how the getTypes function works\n  * Each model type must be able to define\n  * a) Its own setter (setter)\n  * b) A check to see if a value is the type (check)\n  * \n  * */\n  Model: {\n    setter: function (isArray) {\n      return isArray ? modelArraySetter : modelSetter;\n    },\n    check: function (val) {\n      return Boolean(val) && Boolean(val.isModel);\n    }\n  },\n  Date: {\n    setter: function (isArray) {\n      return isArray ? dateArraySetter : dateSetter;\n    },\n    check: function (val) {\n      return Boolean(val) && Boolean(val === Date);\n    }\n  },\n  Boolean: {\n    setter: function (isArray) {\n      return isArray ? booleanArraySetter : booleanSetter;\n    },\n    check: function (val) {\n      return Boolean(val) && Boolean(val === Boolean);\n    }\n  },\n  String: {\n    setter: function (isArray) {\n      return isArray ? stringArraySetter : stringSetter;\n    },\n    check: function (val) {\n      return Boolean(val) && Boolean(val === String);\n    }\n  },\n  Number: {\n    setter: function (isArray) {\n      return isArray ? numberArraySetter : numberSetter;\n    },\n    check: function (val) {\n      return Boolean(val) && Boolean(val === Number);\n    }\n  },\n  Object: {\n    setter: function(isArray) {\n      return genericSetter;\n    },\n    check: function(val) {\n      return Boolean(val) && Boolean(val === Object);\n    }\n  },\n  Function: {\n    setter: function() {\n      return genericSetter;\n    },\n    check: function(val) {\n      return true;\n    }\n  },\n  getTypes: function() {\n    // Compiles an array of all the ModelType set on this object\n    let types = [];\n\n    for (let type in this) {\n      // Go through each property in this object\n      // Only pull out fully defined model types\n      if (!this.hasOwnProperty(type)) {\n        continue;\n      }\n\n      let val = this[type];\n\n      if (val === Function) {\n        continue;\n      }\n\n      if (val.setter && val.check) {\n        types.push(val);\n      }\n    }\n\n    return types;\n  },\n  isValidType: function (val) {\n    // Check if a type is an allowed ModelType\n    return this.getTypes().some( type => type.check(val) );\n  },\n  getType: function (val) {\n    return this.getTypes().find( type => type.check(val) );\n  },\n  getTypeSetter: function (val, isArray) {\n    // Get the setter for a specific type\n    if (this.isValidType(val)) {\n      return this.getType(val).setter(isArray);\n    }\n    else {\n      console.warn('Generic setter used on model type. Check model definitions.');\n      return genericSetter;\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ModelTypes.js\n **/","import ObservableArray from '../ObservableArray';\nimport nullCheck from './nullCheck';\n\nexport default function setter(key, def) {\n  return function (val) {\n\n\n    //If we are overwriting an existing array, clear out any references the old models have to their parent\n    //to prevent memory leaks.\n    if (this.__data[key]) {\n      this.__data[key].forEach(obj => {\n        if (!obj) return;\n\n        obj.__parent = null;\n        obj.__parentKey = null;\n      });\n\n      this.__data[key].removeAllListeners();\n    }\n\n    if (nullCheck(this, key, val, def)) return;\n\n\n    //Don't modify the original array.\n    let arr = new Array(val.length);\n\n    for (let i=0; i<val.length; i++) {\n      if (val[i] !== undefined && val[i] !== null) {\n        arr[i] = (val[i].constructor.isModel) ? val[i] : new def.type(val[i]);\n        arr[i].__parent = this;\n        arr[i].__parentKey = key;\n      }\n    }\n\n    let next = ObservableArray.setup(this, key, arr);\n\n    //We need to listen for items added or removed to this array.  When they are added we need to set the parents,\n    //when removed we need to removed parents.\n    next.addListener(event => {\n      switch (event.type) {\n        case ObservableArray.EVENT_SET:\n        case ObservableArray.EVENT_ADD:\n          event.item.__parent = this;\n          event.item.__parentKey = key;\n          break;\n        case ObservableArray.EVENT_REMOVE:\n          event.item.__parent = null;\n          event.item.__parentKey = null;\n          break;\n      }\n    });\n\n    this.__data[key] = next;\n    this.__onChanged(key, next);\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/setters/modelArray.js\n **/","const SORT = 'Sort';\nconst ADD = 'Add';\nconst REMOVE = 'Remove';\nconst SET = 'Set';\n\nimport {EventEmitter} from 'fbemitter';\n\nclass ObservableArrayIterator {\n  constructor(array) {\n    this.i = 0;\n    this.array = array;\n  }\n\n  next() {\n    if (this.i >= this.array.length) {\n      this.i = 0;\n      return {done: true};\n    }\n\n    return {done: false, value: this.array[this.i++]};\n  }\n}\n\nexport default class ObservableArray {\n  constructor(items) {\n    this.__emitter = new EventEmitter();\n\n    this._array = Array.isArray(items) ? items : new Array(items);\n\n    for (let i = 0; i < this._array.length; i++) {\n      this.defineIndexProperty(i);\n    }\n  }\n\n  defineIndexProperty(index) {\n    if (!(index in this)) {\n      Object.defineProperty(this, index, {\n        configurable: true,\n        enumerable: true,\n        get: function () {\n          return this._array[index];\n        },\n        set: function (val) {\n          this._array[index] = val;\n\n          this.emit({\n            array: this,\n            type: SET,\n            index: index,\n            item: val\n          });\n        }\n      });\n    }\n  }\n\n  static EVENT_SORT = SORT;\n  static EVENT_ADD = ADD;\n  static EVENT_REMOVE = REMOVE;\n  static EVENT_SET = SET;\n\n  /**\n   * TODO: This doesn't belong in the ObservableArray since its specific to Models.js, it should be moved to a helper\n   * function.\n   *\n   * @param obj\n   * @param key\n   * @param val\n   * @returns {*}\n   */\n  static setup(obj, key, val) {\n    if (!ObservableArray.isObservableArray(val)) {\n      val = new ObservableArray(val);\n    }\n\n    //Hookup the onChanged event\n    val.addListener(event => obj.__onChanged(key, val, event));\n\n    return val;\n  }\n\n  /**\n   * Iterator implementation.\n   * @returns {*}\n   */\n  [Symbol.iterator]() {\n    return new ObservableArrayIterator(this);\n  }\n\n  addListener(cb) {\n    return this.__emitter.addListener('changed', cb);\n  }\n\n  removeAllListeners() {\n    return this.__emitter.removeAllListeners();\n  }\n\n  emit(event) {\n    this.__emitter.emit('changed', event);\n  }\n\n  get length() {\n    return this._array.length;\n  }\n\n  push(item) {\n    this._array.push(item);\n\n    this.defineIndexProperty(this.length - 1);\n\n    this.emit({\n      array: this,\n      type: ADD,\n      index: this.length - 1,\n      item: item\n    })\n  }\n\n  pop() {\n    let item = this._array.pop();\n\n    delete this[this.length - 1];\n\n    this.emit({\n      array: this,\n      type: REMOVE,\n      index: this.length - 1,\n      item: item\n    });\n\n    return item;\n  }\n\n  unshift() {\n    let count = this._array.unshift.apply(this._array, arguments);\n\n    for (let i = 0; i < count; i++) {\n      this.defineIndexProperty(this.length + i);\n\n      this.emit({\n        array: this,\n        type: ADD,\n        index: i,\n        item: arguments[i + 1]\n      })\n    }\n\n    return count;\n  }\n\n  shift() {\n    let item = this._array.shift();\n\n    delete this[this.length - 1];\n\n    this.emit({\n      array: this,\n      type: REMOVE,\n      index: 0,\n      item: item\n    });\n\n    return item;\n  }\n\n  splice() {\n    // arguments[0] is the start index\n    // arguments[1] is the deleteCount\n    // arguments[n] for n>1 are items to splice\n    let startIndex = arguments[0];\n    let deleteCount = arguments[1];\n    let removed = this._array.splice.apply(this._array, arguments);\n\n    let lengthDelta = -removed.length;\n\n    for (let i = 0; i < removed.length; i++) {\n      this.emit({\n        array: this,\n        type: REMOVE,\n        index: startIndex + i,\n        item: removed[i]\n      });\n    }\n\n    // splice uses flat parameters to add, not an array\n    // need to grab all arguments for n>1\n    let toAdd = Array.prototype.slice.call(arguments, 2); // produces an array\n\n    if (toAdd) {\n\n      for (let i = 0; i < toAdd.length; i++) {\n        this.emit({\n          array: this,\n          type: ADD,\n          index: startIndex + i,\n          item: toAdd[i]\n        });\n      }\n\n      lengthDelta += toAdd.length;\n    }\n\n    if (lengthDelta > 0) {\n      for (let i = 0; i < lengthDelta; i++) {\n        this.defineIndexProperty(this.length - 1 - i);\n      }\n    } else if (lengthDelta < 0) {\n      for (let i = 0; i < -lengthDelta; i++) {\n        delete this[this.length + i];\n      }\n    }\n\n    return removed;\n  }\n\n  sort(fn) {\n    let oldArray = this._array.slice();\n    this._array.sort(fn);\n\n    // only raise an event if something's happened\n    if (oldArray.some( (val, index) => val !== this._array[index])) {\n      this.emit({\n        array: this,\n        type: SORT\n      });\n    }\n\n    return this._array;\n  }\n\n  reverse() {\n    this._array.reverse();\n\n    this.emit({\n      array: this,\n      type: SORT\n    });\n\n    return this._array;\n  }\n\n\n  static isObservableArray(obj) {\n    return !obj ? false : (this === obj.constructor);\n  }\n\n  static isArray(obj) {\n    return Array.isArray(obj);\n  }\n\n  isArray(obj) {\n    return Array.isArray(obj);\n  }\n\n  join() {\n    return this._array.join.apply(this._array, arguments);\n  }\n\n  forEach(fn) {\n    return this._array.forEach(fn);\n  }\n\n  slice() {\n    return this._array.slice.apply(this._array, arguments);\n  }\n\n  concat() {\n    return this._array.concat.apply(this._array, arguments);\n  }\n\n  includes(fn) {\n    return this._array.includes(fn);\n  }\n\n  reduce() {\n    return this._array.reduce.apply(this._array, arguments);\n  }\n\n  map(fn) {\n    return this._array.map(fn);\n  }\n\n  filter(fn) {\n    return this._array.filter(fn);\n  }\n\n  find(fn) {\n    return this._array.find(fn);\n  }\n\n  some(fn) {\n    return this._array.some(fn);\n  }\n\n  indexOf(val) {\n    return this._array.indexOf(val);\n  }\n\n  findIndex(fn) {\n    return this._array.findIndex(fn);\n  }\n\n  /**\n   * Returns an new plain Array with the contents that were in this ObservableArray instance.\n   *\n   * @returns {array}\n   */\n  toArray() {\n    return [].concat(this._array);\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/ObservableArray.js\n **/","export default function (obj, key, val, def) {\n  if (val === null || val === undefined) {\n\n    //Check to see if this def specifies an auto value.\n    obj.__data[key] = (def.auto !== undefined) ? def.auto : val;\n    obj.__onChanged(key, val);\n    return true;\n  }\n\n  return false;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/setters/nullCheck.js\n **/","import nullCheck from './nullCheck';\n\nexport default function setter(key, def) {\n  return function (val) {\n\n    //Remove reference to __parent on the model being replaced to avoid memory leaks.\n    if (this.__data[key]) {\n      this.__data[key].__parent = null;\n      this.__data[key].__parentKey = null;\n    }\n\n    if (nullCheck(this, key, val, def)) return;\n\n    //Check to make sure the value being set is the correct Model, if not, cast it.\n    let next = (val.constructor.isModel) ? val : new def.type(val);\n\n    next.__parent = this;\n    next.__parentKey = key;\n\n    this.__data[key] = next;\n    this.__onChanged(key, next);\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/setters/model.js\n **/","import ObservableArray from '../ObservableArray';\nimport nullCheck from './nullCheck';\n\nexport default function setter(key, def) {\n  return function (val) {\n    if (nullCheck(this, key, val, def)) return;\n\n    for (let i=0; i<val.length; i++) {\n      if (val[i] !== undefined && val[i] !== null && val[i].constructor !== Date)\n        val[i] = new Date(val[i]);\n    }\n\n    let next = ObservableArray.setup(this, key, val);\n\n    this.__data[key] = next;\n    this.__onChanged(key, next);\n    \n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/setters/dateArray.js\n **/","import nullCheck from './nullCheck';\n\nexport default function setter(key, def) {\n  return function (val) {\n    if (nullCheck(this, key, val, def)) return;\n\n    let next = (val.constructor === Date) ? val : new Date(val);\n    \n    this.__data[key] = next;\n    this.__onChanged(key, next);\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/setters/date.js\n **/","import ObservableArray from '../ObservableArray';\nimport nullCheck from './nullCheck';\n\nexport default function setter(key, def) {\n  return function (val) {\n    if (nullCheck(this, key, val, def)) return;\n\n    for (let i=0; i<val.length; i++) {\n      if (val[i] !== undefined && val[i] !== null && val[i].constructor !== Number) {\n\n        val[i] = parseFloat(val[i]);\n\n        //Check for NaN, isNaN is too slow\n        if (val[i] !== val[i]) {\n          val[i] = (def.auto !== undefined) ? def.auto : undefined;\n        }\n      }\n    }\n\n    val = ObservableArray.setup(this, key, val);\n\n    this.__data[key] = val;\n    this.__onChanged(key, val);\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/setters/numberArray.js\n **/","import nullCheck from './nullCheck';\n\nexport default function setter(key, def) {\n  return function (val) {\n    if (nullCheck(this, key, val, def)) return;\n\n    let next = (val.constructor === Number) ? val : parseFloat(val);\n\n    //Check for NaN, isNaN is too slow\n    if (next !== next) {\n      next = (def.auto !== undefined) ? def.auto : undefined;\n    }\n\n    this.__data[key] = next;\n    this.__onChanged(key, next);\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/setters/number.js\n **/","import ObservableArray from '../ObservableArray';\nimport nullCheck from './nullCheck';\n\nexport default function setter(key, def) {\n  return function (val) {\n    if (nullCheck(this, key, val, def)) return;\n\n    for (let i=0; i<val.length; i++) {\n      if (val[i] !== undefined && val[i] !== null)\n        val[i] = !!val[i];\n    }\n\n    let next = ObservableArray.setup(this, key, val);\n\n    this.__data[key] = next;\n    this.__onChanged(key, next);\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/setters/booleanArray.js\n **/","import nullCheck from './nullCheck';\n\nexport default function setter(key, def) {\n  return function (val) {\n    if (nullCheck(this, key, val, def)) return;\n\n    let next = !!val;\n    this.__data[key] = next;\n    this.__onChanged(key, next);\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/setters/boolean.js\n **/","import ObservableArray from '../ObservableArray';\nimport nullCheck from './nullCheck';\n\nexport default function setter(key, def) {\n  return function (val) {\n    if (nullCheck(this, key, val, def)) return;\n\n    for (let i=0; i<val.length; i++) {\n      if (val[i] !== undefined && val[i] !== null && val[i].constructor !== String)\n        val[i] = val[i].toString();\n    }\n\n    let next = ObservableArray.setup(this, key, val);\n\n    this.__data[key] = next;\n    this.__onChanged(key, next);\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/setters/stringArray.js\n **/","import nullCheck from './nullCheck';\n\nexport default function setter(key, def) {\n  return function (val) {\n    if (nullCheck(this, key, val, def)) return;\n\n    let next = (val.constructor === String) ? val : val.toString();\n    this.__data[key] = next;\n    this.__onChanged(key, next);\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/setters/string.js\n **/","import ObservableArray from '../ObservableArray';\nimport nullCheck from './nullCheck';\n\nexport default function setter(key, def) {\n  return function (val) {\n    if (nullCheck(this, key, val, def)) return;\n\n    //Because this is an array of something with a function type, we do not know if the array entries\n    //are in the correct format.  So we will have to call the function again.\n    //It is assumed that any function will account for this.\n    let next = Array.prototype.map.call(val, item => this.constructor.def[key].type(item));\n\n    next = ObservableArray.setup(this, key, next);\n\n    this.__data[key] = next;\n    this.__onChanged(key, next);\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/setters/functionArray.js\n **/","export default function setter(key, def) {\n  return function (val) {\n    let next = this.constructor.def[key].type(val);\n\n    this.__data[key] = next;\n    this.__onChanged(key, next);\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/setters/function.js\n **/","export default function setter(key, def) {\n  return function (val) {\n    this.__data[key] = val;\n    this.__onChanged(key, val);\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/setters/generic.js\n **/","\"use strict\";\nimport RegexValidator from './validate/RegexValidator';\nimport MaxLengthValidator from './validate/MaxLengthValidator';\nimport MinLengthValidator from './validate/MinLengthValidator';\nimport MatchValidator from './validate/MatchValidator';\nimport InValidator from './validate/InValidator';\nimport MaxValidator from './validate/MaxValidator';\nimport MinValidator from './validate/MinValidator';\n\nimport integer from './validate/integer';\nimport required from './validate/required';\nimport empty from './validate/empty';\n\nexport default {\n  Regex: RegexValidator,\n  MaxLength: MaxLengthValidator,\n  MinLength: MinLengthValidator,\n  Match: MatchValidator,\n  In: InValidator,\n  Max: MaxValidator,\n  Min: MinValidator,\n  integer: integer,\n  required: required,\n  empty: empty\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/Validation.js\n **/","\"use strict\";\n/**\n * A regex validator object that encapsulates a validation function and a message to be displayed on validation failure\n *  If you have a very specific use case, with a static regex pattern, consider creating your own validator type\n *  to take advantage of the gains by using regex literals\n * @param {string} [pattern=null] Regex pattern to test\n * @param {string} [flags=''] Flags to apply to regex test pattern,\n * @param {string} [message='Value does not match expected pattern'] Message associated with failure of validation\n * @returns {{validate: validate, message: string}}\n */\nexport default function(pattern = null, flags = '', message =  'Value does not match expected pattern') {\n\n  let regex = (pattern.constructor !== RegExp) ? new RegExp(pattern, flags) : pattern;\n\n  return {\n    validate: function(value) {\n      return value && regex.test(value);\n    },\n    message: message,\n    name: 'RegexValidator'\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/validate/RegexValidator.js\n **/","export default function(maxLength, message = null) {\n  if (typeof maxLength !== 'number') {\n    throw new Error('maxLength must be provided and must be a number');\n  }\n\n  message = message || `Value length can be at most ${maxLength}`;\n\n  return {\n    validate: function(value) {\n      return value && value.length <= maxLength;\n    },\n    message: message,\n    name: 'MaxLengthValidator',\n    args: 'maxLength',\n    maxLength: maxLength\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/validate/MaxLengthValidator.js\n **/","export default function(minLength, message = null) {\n  if (typeof minLength !== 'number') {\n    throw new Error('minLength must be provided and must be a number');\n  }\n\n  message = message || `Value length must be at least ${minLength}`;\n\n  return {\n    validate: function(value) {\n      return value && value.length >= minLength;\n    },\n    message: message,\n    name: 'MinLengthValidator',\n    args: ['minLength'],\n    minLength: minLength\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/validate/MinLengthValidator.js\n **/","export default function(message = null) {\n\n  message = message || 'Values do not match';\n\n  return {\n    validate: function(value, comparisonValue) {\n      return ( value && comparisonValue && value === comparisonValue );\n    },\n    message: message,\n    name: 'MatchValidator'\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/validate/MatchValidator.js\n **/","export default function inValidator(values, message) {\n  if (!Array.isArray(values)) {\n    throw new Error('An array of values must be provided to the InValidator.');\n  }\n\n  message = message || `Value must be one of ${values.join(',')}`;\n\n  return {\n    validate: function(value) {\n      return values.includes(value);\n    },\n    message: message,\n    name: 'InValidator',\n    args: ['values'],\n    values: values\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/validate/InValidator.js\n **/","export default function MaxValidator(max, message) {\n  if (typeof max !== 'number') {\n    throw new Error('max must be provided and must be a number.');\n  }\n\n  message = message || `Value must be max ${max}`;\n\n  return {\n    validate: function(value) {\n      return value <= max;\n    },\n    message: message,\n    name: 'MaxValidator',\n    args: ['max'],\n    max: max\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/validate/MaxValidator.js\n **/","export default function MinValidator(min, message) {\n  if (typeof min !== 'number') {\n    throw new Error('min must be provided and must be a number.');\n  }\n\n  message = message || `Value must be min ${min}`;\n\n  return {\n    validate: function(value) {\n      return value >= min;\n    },\n    message: message,\n    name: MinValidator,\n    args: ['min'],\n    min: min\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/validate/MinValidator.js\n **/","export default {\n  validate: function(n) {\n    return (n === +n) && (n === (n|0));\n  },\n  message: 'You have to enter a whole number value.',\n  name: 'integer'\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/validate/integer.js\n **/","export default {\n  validate: function(value) {\n    return Boolean(value);\n  },\n  message: 'This field is required.',\n  name: 'required'\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/validate/required.js\n **/","export default {\n  validate: function(value) {\n    return !Boolean(value)\n  },\n  message: 'This field must be empty.',\n  name: 'empty'\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/validate/empty.js\n **/"],"sourceRoot":""}